{% extends "layout.html" %}

{% block title %}Login{% endblock %}

{% block main %}

    <header>
        <div class="container">
            <div class="nav-container">
                <a href="/" class="logo">
                    <img src="/static/FlexR_Logo.png" style="width:40%; height:40%">
                </a>
                <div class="nav-links" style="display: flex;">
                    <span style="font-size: 0.9rem; color: #777; margin-right: 10px;">Don't have an account?</span>
                    <a href="/register" style="font-weight: 600; color: var(--primary-red);">Sign up</a>
                </div>
            </div>
        </div>
    </header>

    <section style="padding: 60px 0;">
        <div class="container" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
            
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert" style="width: 100%; max-width: 500px; margin-bottom: 20px; padding: 15px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; border-radius: 5px; text-align: center;">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <div class="card" style="max-width: 500px; width: 100%;">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>Welcome back.</h2>
                </div>
                <form action="/login" method="post">

                    <div class="form-group">
                        <label for="email" class="form-label">Email Address</label>
                        <input required name="email_address" autocomplete="off" type="email" id="email" class="form-control" placeholder="email@example.com">
                    </div>

                    <div class="form-group">
                        <label for="password" class="form-label">Password</label>
                        <input required name="password" autocomplete="off" type="password" id="password" class="form-control" placeholder="Min. 8 characters">
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block" style="margin-top: 20px;">
                        Log In
                    </button>
                </form>
            </div>

        </div>
    </section>

    <script src="{{url_for('static', filename='check_password.js')}}"></script>

{% endblock %}